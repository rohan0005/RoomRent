{% extends 'Users Profile/NavigationBarBase/base.html' %}
{% load static %}
{% block title %}RoomRent | Room{% endblock %}
{% load custom_tags %}

{% block content %}
<div class="flex-1 bg-[#F3F3F3]">
    <!-- Main container Start -->
    <div class="container px-4 py-1 mx-auto ">

        <!-- CONTENTS -->
        <div
            class="bg-white h-full md:px-20  pb-[100px]  lg:mr-3 mt-[15px] {% if '/room/details/' in request.path  %} {% else %}md:ml-30 lg:ml-60 {% endif %} bg-white pr-3">
            {% if roomDetail %}

            <!-- Heading -->
            <div class="py-5 pl-5">
                <div class=" pl-5">
                    <div class="md:flex gap gap-10">
                        <h1 class="md:text-4xl text-[19px] ">{{roomDetail.roomTitle}}</h1>
                        <form action="" method="post">
                            {% csrf_token %}
                            {% if request.user|has_group:"tenant" %}
                            <button type="submit" name="saveRoom" class="bg-[#f52a2a] text-white md:px-4 md:py-3 p-2 rounded-lg"><span class="flex"><span><svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 6L7.5 5.25H16.5L17.25 6V19.3162L12 16.2051L6.75 19.3162V6ZM8.25 6.75V16.6838L12 14.4615L15.75 16.6838V6.75H8.25Z" fill="#ffffff"></path> </g></svg></span>
                                
                                {% if checkRoom %}
                                <span>Unsave</span>
                                {% else %}   
                                <span>Save</span>
                            {% endif %}
                            
                            </span></button>
                            {% endif %}
                        </form>       

                        <form action="" method="post">
                        {% csrf_token %}
                        {% if request.user|has_group:"owner" and roomDetail.user == request.user %}
                        <div class="flex">
                                {% if checkMaintenance %}
                                <div class="p-2 flex">
                                    
                                    <svg class="mt-2" fill="#ff0000" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#ff0000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M425.956,477.812h-1.489V428.64c0-4.147-1.508-8.152-4.242-11.269l-141.49-161.37L420.225,94.63 c2.734-3.117,4.242-7.122,4.242-11.27V34.188h1.49c9.44,0,17.094-7.654,17.094-17.094S435.396,0,425.956,0H86.044 C76.604,0,68.95,7.654,68.95,17.094s7.654,17.094,17.094,17.094h1.491V83.36c0,4.147,1.508,8.152,4.24,11.27l141.49,161.371 L91.775,417.37c-2.733,3.117-4.24,7.122-4.24,11.269v49.173h-1.491c-9.44,0-17.094,7.654-17.094,17.094S76.604,512,86.044,512 h339.91c9.44,0,17.094-7.654,17.094-17.094S435.396,477.812,425.956,477.812z M121.723,34.188h268.556v32.079H121.723V34.188z M165.878,127.287l-23.527-26.832h227.299l-23.266,26.534H168.997C167.93,126.99,166.891,127.101,165.878,127.287z M195.593,161.178h120.815l-60.408,68.894L195.593,161.178z M238.905,301.424v23.102c0.001,9.442,7.654,17.094,17.095,17.094 c9.44,0,17.094-7.654,17.094-17.094v-23.102l96.556,110.122h-227.3L238.905,301.424z M390.278,477.812H121.723v-32.079h268.556 V477.812z"></path> </g> </g> <g> <g> <circle cx="255.999" cy="376.261" r="18.803"></circle> </g> </g> </g></svg><p class="md:text-xl mt-1 text-[#ff0000] sm:text-sm">Room under maintenance</p>
            
                                    <div class="ml-2">
                                        <button type="submit" name="Checkmaintenance" class="bg-[#ff0000] md:text-sm text-[10px] text-white px-4 py-3 rounded-lg">
                                            <span class="text-white">Change<span>
                                        </button>
                                    </div>
                                    {% else %}
                                    <svg class="mt-2.5" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="#2dbf3d" stroke="#2dbf3d" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="1.008"></g><g id="SVGRepo_iconCarrier"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"></path></g></svg><p class="md:text-xl text-[#2dbf3d] mt-2 sm:text-sm">Available For Booking</p>
                                
                                    <div class="ml-2">
                                        <button type="submit" name="Checkmaintenance" class="bg-[#2dbf3d] md:text-sm text-[10px] text-white px-4 py-3 rounded-lg">
                                            <span class="text-white ">Change<span>
                                        </button>
                                    </div>
                                </div>
                                {% endif %}
                            
                        </div>
                        {% endif %}
                        </form>
                  
                    </div>
                </div>

            <div class="justify-center relative flex gap-4 pb-4 md:px-10 ">
                {% if roomDetail.images.first %}
                <img src="{{ roomDetail.images.first.image.url }}" alt="Room Image"
                    class="rounded rounded-xl pl-2 pt-3 w-[930px] h-full object-cover rounded-xl" />

                {% endif %}

                <button type="button" data-modal-target="showmore" data-modal-toggle="showmore"
                            class="absolute xl:hidden text-sm bottom-8 right-14 md:p-2 p-1 md:px-3 text-gray-600 bg-white uppercase rounded hover:bg-gray-100">
                            
                            <div class="flex items-center gap-2">
                                <span>
    
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 16px; width: 16px; fill: currentcolor;"><path fill-rule="evenodd" d="M3 11.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"></path></svg>    
        
        
                                    </span>
                                    show more
                               </div>
                        </button>

                {% if roomDetail.images.all|length >= 2 %}
                <div class="space-y-4">

                    <img src="{{ roomDetail.images.all.1.image.url }}" alt="Room Image" class="pt-3 w-96 rounded" />


                    {% if roomDetail.images.all|length >= 3 %}
                    <div class="relative bg-orange-500">
                        <img src="{{ roomDetail.images.all.2.image.url }}" alt="Room Image"
                            class=" w-96 rounded relative " />

                        {% if roomDetail.images.all|length >= 3 %}
                        <button type="button" data-modal-target="showmore" data-modal-toggle="showmore"
                            class="absolute  gap-2 hidden xl:block right-[15px] text-sm bottom-[15px] md:p-2 p-1 md:px-3 text-gray-600 bg-white uppercase rounded hover:bg-gray-100">
                           <div class="flex items-center gap-2">
                            <span>

                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 16px; width: 16px; fill: currentcolor;"><path fill-rule="evenodd" d="M3 11.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"></path></svg>    
    
    
                                </span>
                                show more
                           </div>
                        </button>

                        <!-- Main modal for showing all room image-->
                        <div id="showmore" tabindex="-1" aria-hidden="true"
                            class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                            <div class="relative p-4 w-full max-w-2xl max-h-full">
                                <!-- Modal content -->
                                <div class="relative bg-white rounded-lg shadow ">
                                    <!-- Modal header -->
                                    <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t ">
                                        <h3 class="text-xl font-semibold text-gray-900">
                                            All images of this room
                                        </h3>
                                        <button type="button"
                                            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center "
                                            data-modal-hide="showmore">
                                            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="none" viewBox="0 0 14 14">
                                                <path stroke="currentColor" stroke-linecap="round"
                                                    stroke-linejoin="round" stroke-width="2"
                                                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                            </svg>
                                            <span class="sr-only">Close modal</span>
                                        </button>
                                    </div>
                                    <!-- Modal body containing iamge-->
                                    <div class="px-5 md:p-5 space-y-10 justify-center">
                                        {% for img in roomDetail.images.all %}
                                        <div class="space-y-4">

                                            <a href="{{ img.image.url }}" target="_blank"><img class="w-full"
                                                    src="{{ img.image.url }}" alt="Room Image"
                                                    class="pt-3 w-96 rounded" /></a>
                                        </div>
                                        {% endfor %}
                                    </div>
                                    <!-- Modal footer -->
                                    <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b ">
                                        <button data-modal-hide="showmore" type="button"
                                            class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 outline outline-1 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:z-10 focus:ring-4 focus:ring-gray-100">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {% endif %}
                    </div>
                    {% endif %}
                </div>
                {% endif %}
            </div>



            <!-- Room Title -->

            <!-- End: Room Title -->

            


            <!-- Room Description -->
            <div class="md:flex gap-10 pt-7 pl-4 ">

                <div class="md:w-4/5">
                    <div class="pb-5">
                        <h1 class="md:text-3xl text-[19px] pb-1 font-bold">Description</h1>
                        <p class="text-justify pt-3 leading-loose md:text-[19px] text-[17px]">
                            {{roomDetail.roomDescription}}
                        </p>
                    </div>
                                <!--Rules Edit-->

                                <form action="" method="post">
                                    {% csrf_token %}
                                <div id="default-modal-rules" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                                    <div class="relative p-4 w-full max-w-2xl max-h-full">
                                        <!-- Modal content -->
                                        <div class="relative bg-white rounded-lg shadow ">
                                            <!-- Modal header -->
                                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t">
                                                <h3 class="text-xl font-semibold text-gray-900">
                                                    Add new rules
                                                </h3>
                                                <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center " data-modal-hide="default-modal-rules">
                                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                                    </svg>
                                                    <span class="sr-only">Close modal</span>
                                                </button>
                                            </div>
                                            <!-- Modal body -->
                                            <div class="p-4 md:p-5 space-y-4">
                                                <div class="flex items-center mb-5">
                                                    <!-- ROOM Rules -->
                                                    <label for="ruleInput" class="inline-block w-28 mr-6 text-left font-bold text-gray-600">Room Rules</label>
                                                    <input type="text" id="ruleInput" class="appearance-none block w-full bg-gray-50 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" placeholder="Enter Rules">
                                                    <button type="button" onclick="addRule()" class="bg-[#1F2937] text-white ml-5 py-3 px-8">Add</button>
                                                </div>
                                                

                                                <div class="pb-5" id="rulesContainerWrapper" style="display: none;">
                                                    <div id="rulesContainer"
                                                        class="appearance-none block w-full bg-gray-50 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                                                        <h1 class="text-2xl font-semibold pb-5 ">Rules</h1>
                                                        <!-- Rules will be dynamically added here -->
                                                        <input type="hidden" id="hiddenRulesInput" name="rules" value="" required>
                                                    </div>
                                                </div>


                                            </div>
                                            <!-- Modal footer -->
                                            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                                                <button name="addNewRules" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">Add New Rules</button>
                                                <button data-modal-hide="default-modal-rules" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 ">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>

                    <div class="pt-5  border border-3 shadow  pb-5 mb-4">
                            <div class="flex">
                                    <div>
                                            <h1 class="md:text-3xl text-[19px] pb-1 pl-6 pb-3 font-bold">Rules</h1>
                                    </div>
                                    {% if request.user == roomDetail.user %}
                                    <div class="mt-2 pl-4"><button data-modal-target="default-modal-rules" data-modal-toggle="default-modal-rules" type="button"><svg width="24px" height="24px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>edit_cover [#1481]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-419.000000, -359.000000)" fill="#000000"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M384,209.210475 L384,219 L363,219 L363,199.42095 L373.5,199.42095 L373.5,201.378855 L365.1,201.378855 L365.1,217.042095 L381.9,217.042095 L381.9,209.210475 L384,209.210475 Z M370.35,209.51395 L378.7731,201.64513 L380.4048,203.643172 L371.88195,212.147332 L370.35,212.147332 L370.35,209.51395 Z M368.25,214.105237 L372.7818,214.105237 L383.18415,203.64513 L378.8298,199 L368.25,208.687714 L368.25,214.105237 Z" id="edit_cover-[#1481]"> </path> </g> </g> </g> </g></svg>
                                    </button>
                                    </div>
                                    {% endif %}
                            </div>
                                
                        <p class="text-justify pl-5 leading-loose">
                            
                            
                            {% if roomRules %}
                            {% if roomRules.0 != '' %}
                                {% for rule in roomRules %}
                                    {{ rule }} <br>
                                {% endfor %}
                            {% else %}
                                <h1 class="pl-4">No rules have been posted</h1>
                            {% endif %}
                        {% else %}
                            <h1>No rules have been posted</h1>
                        {% endif %}
                        


                        </p>
                    </div>
                </div>
                <form action="" method="post">
                    {% csrf_token %}
                <div id="default-Utility" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-2xl max-h-full">
                        <!-- Modal content -->
                        <div class="relative bg-white rounded-lg shadow ">
                            <!-- Modal header -->
                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t">
                                <h3 class="text-xl font-semibold text-gray-900">
                                    Edit Utility
                                </h3>
                                <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center " data-modal-hide="default-Utility">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                            </div>
                            <!-- Modal body -->
                            <div class="p-4 md:p-5 space-y-4">
                                <div class="">

                                    <!-- Water  -->
                                    <div class=" flex ml-9 gap-4 mt-5">
        
                                        <div class=" flex items-center">
                                            <svg width="24px" height="24px" viewBox="0 0 24 24" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><defs><style>.cls-1{fill:none;stroke:#020202;stroke-miterlimit:10;stroke-width:1.056;}</style></defs><path class="cls-1" d="M1.46,13.44H2.9a1.44,1.44,0,0,1,1.44,1.44v0A1.44,1.44,0,0,1,2.9,16.31H1.46a0,0,0,0,1,0,0V13.44a0,0,0,0,1,0,0Z"></path><path class="cls-1" d="M1.46,20.15V16.31h1a1.91,1.91,0,0,1,1.91,1.92v1.92"></path><polyline class="cls-1" points="10.08 19.19 7.21 19.19 7.21 13.44 10.08 13.44"></polyline><line class="cls-1" x1="9.13" y1="16.31" x2="7.21" y2="16.31"></line><polyline class="cls-1" points="12 20.15 12 13.44 12.96 13.44 14.88 19.19 15.83 19.19 15.83 12.48"></polyline><line class="cls-1" x1="17.75" y1="13.44" x2="23.5" y2="13.44"></line><line class="cls-1" x1="20.63" y1="20.15" x2="20.63" y2="13.44"></line><line class="cls-1" x1="23.5" y1="22.06" x2="0.5" y2="22.06"></line><polyline class="cls-1" points="22.54 10.56 12 1.94 1.46 10.56"></polyline></g></svg>
                                        </div>
        
                                        <div class="flex items-center gap-16">
                                            <div>
                                                <h1>Rent  </h1>
                                            </div>
        
                                            <div class="pl-8 flex">
                                                <div class="w flex items-center gap-3">
                                                    <h2>Rs. </h2>
                                                    <input placeholder="Enter rent..." required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" type="number" name="rent" value="{{roomDetail.rent}}" id="">
                                                    <span class="flex items-center">/Month</span>
                                                </div>
                                            </div>
        
                                        </div>
                                    </div>




                                    <!-- Electricity -->
                                    <div class=" flex items-center ml-9 gap-4 mt-5">
        
                                        <div class="">
                                            <img alt=''  src=" {% static 'images/static images/Icons/Group.svg' %}">
                                        </div>
        
                                        <div class="flex items-center gap-16">
                                            <div>
                                                <h1>Electricity</h1>
                                            </div>
        
                                            <div class=" flex">
                                                <div class="w flex items-center gap-3">
                                                    <h2>Rs. </h2>
                                                    <input placeholder="Enter electricity unit.." required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" type="number" name="editElectricity" value="{{roomDetail.electricity}}" id="">
                                                    <span class="flex items-center">/unit</span>
                                                </div>
                                            </div>
        
                                        </div>
        
        
                                    </div>
        
                                    <!-- Water  -->
                                    <div class=" flex ml-9 gap-4 mt-5">
        
                                        <div class=" flex items-center">
                                            <img src="{% static 'images/static images/Icons/Vector.svg '%}" alt="">
                                        </div>
        
                                        <div class="flex items-center gap-16">
                                            <div>
                                                <h1>Water</h1>
                                            </div>
        
                                            <div class="pl-8 flex">
                                                <div class="w flex items-center gap-3">
                                                    <h2>Rs. </h2>
                                                    <input placeholder="Enter water charge.." required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" type="number" name="editWater" value="{{roomDetail.water}}" id="">
                                                    <span class="flex items-center">/Month</span>
                                                </div>
                                            </div>
        
                                        </div>
                                    </div>
        
                                    <!-- Trash  -->
                                    <div class=" flex ml-9 gap-4 mt-5">
        
                                        <div class=" flex items-center">
                                            <img src="{% static 'images/static images/Icons/Vector (1).svg'%}"  alt="">
                                        </div>
        
                                        <div class="flex items-center gap-16">
                                            <div>
                                                <h1>Trash</h1>
                                            </div>
        
                                            <div class="pl-8 flex">
                                                <div class="w flex items-center gap-3">
                                                    <h2>Rs. </h2>
                                                    <input placeholder="Enter trash charge.." required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" type="number" name="editTrash" value="{{roomDetail.trash}}" id="">
                                                    <span class="flex items-center">/Month</span>
                                                </div>
                                            </div>
        
                                        </div>
                                    </div>
        
                                </div>
                            </div>
                            <!-- Modal footer -->
                            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                                <button name="updateUtility" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">Update</button>
                                <button data-modal-hide="default-Utility" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 ">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <!--EDIT ICON-->
                <div class="md:w-2/5 h-[390px] border border-3 shadow  rounded-md">
                                    
                    <div class="flex justify-center">
                        <h1 class="md:text-3xl text-[19px] text-center pt-5 font-bold">Rs
                            <span>{{roomDetail.rent}}</span> / Month</h1>
                            {% if request.user == roomDetail.user %}
                            <div class="m-2 pt-4 pl-4"><button data-modal-target="default-Utility" data-modal-toggle="default-Utility" type="button"><svg width="24px" height="24px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>edit_cover [#1481]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-419.000000, -359.000000)" fill="#000000"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M384,209.210475 L384,219 L363,219 L363,199.42095 L373.5,199.42095 L373.5,201.378855 L365.1,201.378855 L365.1,217.042095 L381.9,217.042095 L381.9,209.210475 L384,209.210475 Z M370.35,209.51395 L378.7731,201.64513 L380.4048,203.643172 L371.88195,212.147332 L370.35,212.147332 L370.35,209.51395 Z M368.25,214.105237 L372.7818,214.105237 L383.18415,203.64513 L378.8298,199 L368.25,208.687714 L368.25,214.105237 Z" id="edit_cover-[#1481]"> </path> </g> </g> </g> </g></svg>
                        </button>
                        </div>
                         {% endif %}

                    </div>

                       

                    <!-- <div>
                        <h1 class="pl-9 pt-8 font-bold" >Moved in date:</h1>
                    </div>

                    <div class="rounded-md bg-white w-[200px] ml-9 p-2 gap-2 mt-2 font-bold flex">
                        <p><span><img src="/images/static images/Icons/eva_calendar-fill.svg" alt=""><h1>31/31/2023</h1></span></p>
                    </div> -->

                    <div data-popover id="popover-default" role="tooltip"
                        class="absolute z-10 invisible inline-block w-64 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0">
                        <div class="px-3 py-2 bg-[#FF3131] border-b border-gray-200 rounded-t-lg">
                            <h3 class="font-semibold text-white ">WARNING</h3>
                        </div>
                        <div class="px-3 py-3">
                            <p>Your booking may be rejected if you provide inappropriate date.</p>
                        </div>
                        <div data-popper-arrow></div>
                    </div>
                    <form action="" method="post">
                        {% csrf_token %}
                        {% if request.user|has_group:"owner" and hasNotMoveOutDate == False %}

                        {% else %}
                        <div class="relative max-w-sm ml-8 mt-3">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                                <svg class="w-4 h-4 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" />
                                </svg>
                            </div>
                            <input required name="moveInOrMoveoutDate" id="inputdate" value="" data-popover-target="popover-default" 
                                type="date"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  "
                                placeholder="Select date">
                        </div>
                        {% endif %}


                        <!-- Utility head -->
                        <div class="ml-9 mt-5 mb-2">
                            <h1 class="font-bold">Utility info:</h1>
                        </div>

                        <!-- Utility List -->
                        <div class="">
                            <!-- Electricity -->
                            <div class=" flex ml-9 gap-4 mt-5">

                                <div class=" mb-2">
                                    <img src="/images/static images/Icons/Group.svg" alt="">
                                </div>

                                <div class=" justify-between pr-12 flex w-[400px]">
                                    <div>
                                        <h1>Electricity</h1>
                                    </div>

                                    <div class=" ">
                                        <div>
                                            <h2><span>Rs. </span><span>{{roomDetail.electricity}}</span> / unit</h2>
                                        </div>
                                    </div>

                                </div>


                            </div>

                            <!-- Water  -->
                            <div class=" flex ml-9 gap-4 mt-5">

                                <div class="pt-1 mb-2">
                                    <img src="/images/static images/Icons/Vector.svg" alt="">
                                </div>

                                <div class=" justify-between pr-12 flex w-[400px]">
                                    <div>
                                        <h1>Water</h1>
                                    </div>

                                    <div class=" ">
                                        <div>
                                            <h2>Rs. <span>{{roomDetail.water}}</span> / Month</h2>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!-- Trash  -->
                            <div class=" flex ml-9 gap-4 mt-5">

                                <div class=" mb-2">
                                    <img src="/images/static images/Icons/Vector (1).svg" alt="">
                                </div>

                                <div class=" justify-between pr-12 flex w-[400px]">
                                    <div>
                                        <h1>Trash</h1>
                                    </div>

                                    <div class=" ">
                                        <div>
                                            <h2>Rs. <span>{{roomDetail.trash}}</span> / Month</h2>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>


                        <input type="hidden" name="room_id" value="{{roomDetail.id}}">

                        <!-- Modal HTML -->
                        <div id="popup-modal" tabindex="-1"
                            class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                            <!-- Modal content -->
                            <div class="relative p-4 w-full max-w-md max-h-full">
                                <div class="relative bg-white rounded-lg shadow">
                                    <button type="button"
                                        class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"
                                        data-modal-hide="popup-modal">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                            fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                    <div class="p-4 md:p-5 text-center">
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 " aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                                        </svg>
                                        {% if hasJoinedRoom and request.user|has_group:"tenant" %}
                                        <h3 class="mb-5 text-lg font-normal text-gray-700">Are you sure you want to inform
                                            moveout?</h3>

                                            <div class="col-span-2 mb-5">
                                                <label for="description" class="block mb-2 text-sm font-medium text-gray-900">Leave a feedback</label>
                                                <textarea name="feedback" value="" id="description" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Give review and feedback for this room"></textarea>                    
                                            </div>

                                            <input type="hidden" name="rating" id="ratingInput" value="">

                                            <!-- Rating -->
                                            <div class="flex flex-row-reverse justify-end items-center  pb-7">  
                                                <input id="hs-ratings-readonly-1" type="radio" class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="5">
                                                <label for="hs-ratings-readonly-1" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600">
                                                <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                                </label>
                                                <input id="hs-ratings-readonly-2" type="radio" class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="4">
                                                <label for="hs-ratings-readonly-2" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600">
                                                <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                                </label>
                                                <input id="hs-ratings-readonly-3" type="radio" class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="3">
                                                <label for="hs-ratings-readonly-3" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600">
                                                <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                                </label>
                                                <input id="hs-ratings-readonly-4" type="radio" class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="2">
                                                <label for="hs-ratings-readonly-4" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600">
                                                <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                                </label>
                                                <input id="hs-ratings-readonly-5" type="radio" class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="1">
                                                <label for="hs-ratings-readonly-5" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600">
                                                <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                                </label>
                                                <p class="font-bold pr-3">Give Ratings: </p>
                                            </div>
                                            <!-- End Rating -->

                                        {% elif request.user|has_group:"owner" and hasNotMoveOutDate == False and bookedRoomInfo %}
                                        <div>
                                            <h3 class="mb-3 text-lg font-normal text-gray-700">Before removing the tenant return the deposit.</h3>
                                            
                                            {% for book in bookedRoomInfo %}

                                            <h1 class="mb-3">Tenant total deposit amoint: <span class="font-bold">Rs. {{book.roombilling.deposit}}</span></h1>

                                            {% endfor %}
                                           

                                            <input class="mb-6 "
                                                type="checkbox" name="chargeFine" value="True" id="checked-checkbox">
                                            <label for="checked-checkbox" class="font-bold text-gray-900 ">Charge fine from deposit</label>

                                            <!-- Input fields to show/hide -->
                                            <div id="fine-fields" style="display: none;">
                                                <input min=1 class="w-full px-3 py-2 mb-2 text-sm leading-tight text-gray-700 border-2 rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                    type="number" name="fineAmount" id="fine-amount" placeholder="Enter fine amount">
                                                <textarea class="w-full px-3 py-2 text-sm leading-tight text-gray-700 border-2 rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                    type="text" name="fineReason" id="fine-reason" placeholder="Enter reason for fine"></textarea>
                                            </div>

                                        </div>

                                        {% else %}
                                        <h3 class="mb-5 text-lg font-normal text-gray-700">Are you sure you want to book
                                            this room?</h3>

                                            <textarea name="additionalDetail" class="mb-2 py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none border-2" rows="3" placeholder="Give Additional details (Optional).."></textarea>
                                        {% endif %}
                                        
                                        {% if hasJoinedRoom and request.user|has_group:"tenant" %}
                                                <button data-modal-hide="popup-modal" type="submit" name="moveout"
                                                class="text-white bg-gray-800 hover:bg-gray-700 focus:ring-4 outline outline-1 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-6 py-3 mr-4 text-center">
                                                Confirm
                                            </button>
                                        {% elif request.user|has_group:"owner" and hasNotMoveOutDate == False and bookedRoomInfo%}
                                        
                                        {% for book in bookedRoomInfo %}
                                        <input type="hidden" name="tenantUser" value="{{book.user.id}}">

                                        {% endfor %}
                                                <button type="submit" name="removeTenant"
                                                class="text-white bg-gray-800 hover:bg-gray-700 focus:ring-4 outline outline-1 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-6 py-3 mr-4 text-center">
                                                Return Deposit
                                            </button>
                                        {% else %}
                                                <button  type="submit"
                                                class="text-white bg-gray-800 hover:bg-gray-700 focus:ring-4 outline outline-1 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-6 py-3 mr-4 text-center">
                                                Confirm
                                            </button>
                                        {% endif %}

                                        <button data-modal-hide="popup-modal" type="button"
                                            class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 outline outline-1 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:z-10 focus:ring-4 focus:ring-gray-100">No,
                                            cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>




                        <!-- Book Now -->
                        <div class="p-6 pl-9">
                            <input type="hidden" name="user" value="{{request.user}}">
                            
                            <!--IF USER IS TENANT AND HAS NOT JOINED ROOM-->
                            {% if not hasJoinedRoom and request.user|has_group:"tenant" %} 
                                
                                {% if not hasBookedThisRoom %} <!--IF TENANT HAS NOT BOOKED THE ROOM -->

                                
                                {% if roomDetail.isUnderMaintenance %}
                                <div class="flex">
                                <svg class="mt-1" fill="#ff0000" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#ff0000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M425.956,477.812h-1.489V428.64c0-4.147-1.508-8.152-4.242-11.269l-141.49-161.37L420.225,94.63 c2.734-3.117,4.242-7.122,4.242-11.27V34.188h1.49c9.44,0,17.094-7.654,17.094-17.094S435.396,0,425.956,0H86.044 C76.604,0,68.95,7.654,68.95,17.094s7.654,17.094,17.094,17.094h1.491V83.36c0,4.147,1.508,8.152,4.24,11.27l141.49,161.371 L91.775,417.37c-2.733,3.117-4.24,7.122-4.24,11.269v49.173h-1.491c-9.44,0-17.094,7.654-17.094,17.094S76.604,512,86.044,512 h339.91c9.44,0,17.094-7.654,17.094-17.094S435.396,477.812,425.956,477.812z M121.723,34.188h268.556v32.079H121.723V34.188z M165.878,127.287l-23.527-26.832h227.299l-23.266,26.534H168.997C167.93,126.99,166.891,127.101,165.878,127.287z M195.593,161.178h120.815l-60.408,68.894L195.593,161.178z M238.905,301.424v23.102c0.001,9.442,7.654,17.094,17.095,17.094 c9.44,0,17.094-7.654,17.094-17.094v-23.102l96.556,110.122h-227.3L238.905,301.424z M390.278,477.812H121.723v-32.079h268.556 V477.812z"></path> </g> </g> <g> <g> <circle cx="255.999" cy="376.261" r="18.803"></circle> </g> </g> </g></svg>
                                <h1 class="text-xl text-[#ff0000]">Room is under maintenance</h1>
                                </div>
                                
                                {% else %}

                                <button data-modal-target="popup-modal" data-modal-toggle="popup-modal" type="button"
                                class="text-white bg-[#1F2937] focus:ring-4 focus:outline-none focus:ring-[#050708]/20 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 mb-2">
                                <span>Book now</span>
                                    
                                {% endif %}
                                    
                                {% else %} <!---IF TENANT IS LOGGED IN : IF TENANT HAS BOOKED BUT NOT JOINED THIS ROOM THEN SHOW THIS MESSAGE-->
                                    <h1 class="text-[#0766AD] font-bold">You have booked this room.</h1>
                                {% endif %}
                            

                            <!--IF OWNER IS LOGGED IN : IF TENANT HAS BOOKED THE ROOM BUT NOT JOINED SHOW THIS MESSAGE-->
                            {% elif request.user|has_group:"owner" %}

                                {% if not hasJoinedRoom and hasBookedThisRoom  %}
                                    
                                    <h1 class="text-[#FF3131] font-bold">Tenant has booked this room</h1>
                                
                                    {% elif request.user|has_group:"owner" and hasJoinedMyRoom %}
                                        
                                        {% if hasNotMoveOutDate == False %} <!--if moveout date-->
                                                {% for booking in isJoinedThisRoom %}
                                                <h1 class="text-[#0766AD] font-bold">Tenant will move out within: {{ booking.moveOutDate|date }}</h1>
                                                
                                                <button data-modal-target="popup-modal" data-modal-toggle="popup-modal" type="button"
                                                class="mt-2 text-white bg-[#1F2937] focus:ring-4 focus:outline-none focus:ring-[#050708]/20 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 mb-2">
                                                <span><img src="/images/static images/Icons/iconamoon_exit-fill.svg" alt="">Moveout Tenant</span>
                                            
                                                {% endfor %}
                                            {% else %}
                                            <h1 class="text-[#0766AD] font-bold">Tenant has joined this room</h1>
                                        {% endif %}

                                    {% elif hasNotMoveOutDate == False %}

                                    

                                {% endif %}

                            {% elif hasJoinedRoom and hasBookedThisRoom and request.user|has_group:"tenant" %}
                            
                                {% if hasNotMoveOutDate == False %} <!--if moveout date-->
                                    {% for booking in isJoinedThisRoom %}
                                    <h1 class="text-[#FF3131] font-bold">You have informed to moveout within {{ booking.moveOutDate|date }}.</h1>
                                    {% endfor %}
                                    
                                    {% else %}
                                    <button data-modal-target="popup-modal" data-modal-toggle="popup-modal" type="button" name="moveout"
                                    class="text-white bg-[#1F2937] focus:ring-4 focus:outline-none focus:ring-[#050708]/20 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 mb-2">
                                    <span><img src="/images/static images/Icons/iconamoon_exit-fill.svg" alt="">Inform Moveout</span>
                                {% endif %}
                                
                            {% elif hasJoinedRoom and not hasBookedThisRoom and request.user|has_group:"tenant" %}
                                <h1 class="text-[#FF3131] font-bold">You have already joined a room</h1>
                                
                            

                            {% endif %}
                         
                        </div>
                    </form>
                </div>


            </div> <!-- Room Description END-->

                <!--EDIT Amenities MODAL-->
                <form action="" method="post">
                    {% csrf_token %}
                <div id="default-modal-amenities" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-2xl max-h-full">
                        <!-- Modal content -->
                        <div class="relative bg-white rounded-lg shadow ">
                            <!-- Modal header -->
                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t">
                                <h3 class="text-xl font-semibold text-gray-900">
                                    Add Amenities
                                </h3>
                                <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center " data-modal-hide="default-modal-amenities">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                            </div>
                            <!-- Modal body -->
                            <div class="p-4 md:p-5 space-y-4">
                                <div class="">
                                    
                                    <div class="flex">
                                        <h1 class="w-1/3 pt-2">Add New Amenities: </h1>
                                        <input required class="shadow appearance-none border rounded w-2/3 py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="New Amenities name..." type="text" name="newAmenitiesName" value="" id="">
                                    </div>

                                    
        
                                </div>
                            </div>
                            <!-- Modal footer -->
                            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                                <button name="newAmenities" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">Add</button>
                                <button data-modal-hide="default-modal-amenities" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 ">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <!-- Amenities and ROom Info START -->
            <div class="md:flex gap-10 pt-7 pl-4 ">

                <div class="md:w-4/5">
                    <div class="pt-5  border border-3 shadow  pb-5 mb-4">
                        <div class="flex justify-center">
                            <div>
                                    <h1 class="md:text-3xl text-[19px] pb-1 pl-3 flex  justify-center font-bold">Amenities</h1>
                            </div>

                            <div>
                                {% if request.user == roomDetail.user %}
                                <div class="m-2 pl-3 "><button data-modal-target="default-modal-amenities" data-modal-toggle="default-modal-amenities" type="button"><svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="10" stroke="#1C274C" stroke-width="1.5"></circle> <path d="M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"></path> </g></svg>
                                </button>
                                </div>
                             {% endif %}
                            </div>

                        </div>
                        {% if amenities|length > 0 and amenities.0 %}
                        <div
                            class="text-gray-700 md:grid md:grid-cols-3 justify-center pt-5 pl-5 md:px-10 md:text-[19px] md:gap-20 text-[14px] pb-10">

                            {% for a in amenities %}
                            <div class="flex items-center mb-2">
                                <span>{{ a }}</span>
                                <form method="post" action="">
                                    {% csrf_token %}
                                    <input type="hidden" name="amenity_to_delete" value="{{ a }}">

                                        {% if request.user == roomDetail.user %}
                                        <button type="submit" name="deleteAmenities" 
                                        >
                                        <svg  class="ml-2 mt-2" width="24px" height="24px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#ff0000" d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"></path></g></svg>
                                        </button>
                                        {% endif %}

                                </form>
                            </div>
                            {% endfor %}
                        </div>
                        {% else %}
                        <p class="p-3 text-2xl flex justify-center">No Amenities for this room.</p>
                        {% endif %}



                    </div>
                </div>

                <!--Room Info START-->
                <div class="md:w-2/5 border border-3 shadow  rounded-md h-[330px]">

                    <div class="">
                        <h1 class="md:text-3xl text-[19px] flex justify-center pt-4 pl-3 font-bold">Room Info</h1>

                        <div class="main-container-info pt-3">

                            <div class="grid grid-cols-2 px-3 py-2 ">

                                <!--ICON AND TYPE-->
                                <div class="grid grid-cols-2">
                                    <!--ICON-->
                                    <div class="">
                                        <img class="ml-8 mt-1 h-8 w-8" src="/images/static images/Icons/house.svg"
                                            alt="">
                                    </div>


                                    <!--TYPE-->
                                    <div class="p-2  text-[16px] md:text-xl font-bold">
                                        <h1>Flat</h1>
                                    </div>
                                </div>


                                <!--INFO-->
                                <div class="p-2   text-[16px] md:text-xl text-gray-700">
                                    <h1>{{roomDetail.flat}}</h1>
                                </div>


                                <!--ICON AND TYPE FOR floor START -->
                                <div class="grid grid-cols-2">
                                    <!--ICON-->
                                    <div class="ml-9 mt-2">
                                        <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M11 6C9.34315 6 8 7.34315 8 9V17C8 17.5523 8.44772 18 9 18C9.55229 18 10 17.5523 10 17V14L12.0045 14C12.2149 13.9987 12.426 13.974 12.6332 13.9395C12.9799 13.8817 13.4575 13.7642 13.9472 13.5194C14.4409 13.2725 14.9649 12.8866 15.3633 12.289C15.7659 11.6851 16 10.9249 16 9.99996C16 9.07499 15.7659 8.31478 15.3633 7.71092C14.9649 7.11332 14.4408 6.7274 13.9472 6.48058C13.4575 6.23573 12.9799 6.11828 12.6332 6.06049C12.4248 6.02575 12.2117 6.0001 12 6H11ZM10 12V9C10 8.44772 10.4477 8 11 8L12.0004 8.00018C12.3603 8.01218 12.7318 8.10893 13.0528 8.26944C13.3092 8.39762 13.5351 8.5742 13.6992 8.82033C13.8591 9.06021 14 9.42497 14 9.99996C14 10.575 13.8591 10.9397 13.6992 11.1796C13.5351 11.4258 13.3091 11.6023 13.0528 11.7305C12.7318 11.891 12.3603 11.9878 12.0003 11.9998L10 12Z"
                                                    fill="#0F0F0F"></path>
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M20 1C21.6569 1 23 2.34315 23 4V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H20ZM20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20Z"
                                                    fill="#0F0F0F"></path>
                                            </g>
                                        </svg>
                                    </div>


                                    <!--TYPE-->
                                    <div class="p-2  text-[16px] md:text-xl font-bold">
                                        <h1>Parking</h1>
                                    </div>
                                </div>


                                <!--INFO-->
                                <div class="p-2  text-[16px] md:text-xl">
                                    <h1>{{roomDetail.parking}}</h1>
                                </div>

                                <!--ICON AND TYPE FOR floor END -->




                                <!--ICON AND TYPE FOR floor START -->
                                <div class="grid grid-cols-2">
                                    <!--ICON-->
                                    <div class="ml-9 mt-2">
                                        <svg fill="#000000" width="24px" height="24px" viewBox="0 0 64 64"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <title></title>
                                                <g data-name="Layer 39" id="Layer_39">
                                                    <path
                                                        d="M59,3V6H45v6H31v8H17v8H5V59H3v2H61V3Zm0,55H7V30H19V22H33V14H47V8H59Z">
                                                    </path>
                                                    <polygon
                                                        points="12 6 12 20 14 20 14 6 19.87 10.4 21.07 8.8 13 2.75 4.93 8.8 6.13 10.4 12 6">
                                                    </polygon>
                                                </g>
                                            </g>
                                        </svg>
                                    </div>


                                    <!--TYPE-->
                                    <div class="p-2  text-[16px] md:text-xl font-bold">
                                        <h1>Floor</h1>
                                    </div>
                                </div>


                                <!--INFO-->
                                <div class="p-2  text-[16px] md:text-xl">
                                    <h1>{{roomDetail.floor}}</h1>
                                </div>

                                <!--ICON AND TYPE FOR floor END -->



                                <!--ICON AND TYPE FOR Bathroom START -->
                                <div class="grid grid-cols-2 ">
                                    <!--ICON-->
                                    <div class="ml-9 mt-2">
                                        <svg width="28px" height="28px" viewBox="0 0 512 512"
                                            xmlns="http://www.w3.org/2000/svg" fill="#000000">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <path fill="var(--ci-primary-color, #000000)"
                                                    d="M464,280H80V100A51.258,51.258,0,0,1,95.113,63.515l.4-.4a51.691,51.691,0,0,1,58.6-10.162,79.1,79.1,0,0,0,11.778,96.627l10.951,10.951-20.157,20.158,22.626,22.626,20.157-20.157h0L311.157,71.471h0l20.157-20.157L308.687,28.687,288.529,48.844,277.578,37.893a79.086,79.086,0,0,0-100.929-8.976A83.61,83.61,0,0,0,72.887,40.485l-.4.4A83.054,83.054,0,0,0,48,100V280H16v32H48v30.7a23.95,23.95,0,0,0,1.232,7.589L79,439.589A23.969,23.969,0,0,0,101.766,456h12.9L103,496h33.333L148,456H356.1l12,40H401.5l-12-40h20.73A23.969,23.969,0,0,0,433,439.589l29.766-89.3A23.982,23.982,0,0,0,464,342.7V312h32V280ZM188.52,60.52a47.025,47.025,0,0,1,66.431,0L265.9,71.471,199.471,137.9,188.52,126.951A47.027,47.027,0,0,1,188.52,60.52ZM432,341.4,404.468,424H107.532L80,341.4V312H432Z"
                                                    class="ci-primary"></path>
                                            </g>
                                        </svg>
                                    </div>


                                    <!--TYPE-->
                                    <div class="p-2  text-[16px] md:text-xl font-bold">
                                        <h1>Bathrooms</h1>
                                    </div>
                                </div>


                                <!--INFO-->
                                <div class="p-2 pl-9 text-[16px] md:text-xl">
                                    <h1>{{roomDetail.numberOfBathroom}}</h1>
                                </div>

                                <!--ICON AND TYPE FORBathroom  END -->


                            </div>

                        </div>

                    </div>
                </div> <!---Room Info END-->


            </div> <!-- Room Description END-->


            <!-- Location Start -->
            <div class="p-2  border border-3 shadow  mt-16 ml-4 pb-7">
                <!-- Heading -->
                <div class="ml-4 p-3">
                    <h1 class="md:text-2xl text-[19px] font-semibold ">Room Location</h1>
                </div>

                <div class="pl-7 pt-6 md:text-xl text-[15px]">
                    <h1>Address: <span class=" text-gray-600">{{roomDetail.roomAddress}}</span></h1>
                </div>

                <div class="pl-7 pt-6 md:text-xl text-[15px]">
                    <h1>Detailed Address: <span class=" text-gray-600">{{roomDetail.detailedRoomAddress}}</span></h1>
                </div>

            </div>

            <!-- Owner Info Start -->
            <div class="p-2  border border-3 shadow  mt-16 ml-4 pb-7">
                <!-- Heading -->
                <div class="ml-4 p-3">
                    <h1 class="md:text-2xl text-[16px] font-semibold ">Owner Details</h1>
                </div>

                <div class="pt-14 md:flex pl-4">
                    <div class="">
                        <img class="w-28 h-28 rounded-full" src="{{roomDetail.user.userprofilepicture.image.url}}"
                            alt="">
                    </div>

                    <div class="md:ml-14 space-y-9 pt-3 pb-4">
                        <p class="md:text-xl text-[16px]">Owner: <span>

                            {% if roomDetail.user.first_name and not roomDetail.user.last_name %}
                            {{roomDetail.user.first_name}}
                            
                            {% elif roomDetail.user.first_name and roomDetail.user.last_name %}
                            {{roomDetail.user.first_name}} {{roomDetail.user.last_name}}
                            {% else %}
                            <span class="text-gray-500">{{roomDetail.user}}</span>
                            {% endif %}
                        
                        </span></p>
                        <p class="md:text-xl text-[16px]">Listed on: {{roomDetail.listed_date}}</p>
                    </div>

                    <div class="md:ml-14 space-y-9 pt-3">
                        <p class="md:text-xl text-[16px]">Contact Number:
                            <span>{{roomDetail.user.useradditionaldetail.contact_number}}</span></p>
                        <p class="md:text-xl text-[16px]">Email: <span>{{roomDetail.user.email}}</span></p>
                    </div>
                </div>

            </div> <!-- Owner Info END -->

            {% endif %}

            
            {% if isJoinedThisRoom %}
            
            {% for tenantDetails in isJoinedThisRoom %}
                                
            <!-- Owner Info Start -->
            <div class="p-2  border border-3 shadow  mt-16 ml-4 pb-7">
                <!-- Heading -->
                <div class="ml-4 p-3">
                    <h1 class="md:text-2xl text-[16px] font-semibold ">Tenant Details</h1>
                </div>

                <div class="pt-14 md:flex pl-4">
                    <div class="">
                        <img class="w-28 h-28 rounded-full" src="{{tenantDetails.user.userprofilepicture.image.url}}"
                            alt="">
                    </div>

                    <div class="md:ml-14 space-y-9 pt-3 pb-4">
                        {% if tenantDetails.user.first_name and tenantDetails.user.last_name %}
                        
                        <h1 class="md:text-xl text-[16px]"><span>Name: </span> <span>{{tenantDetails.user.first_name}}</span> <span>{{tenantDetails.user.last_name}}</span></h1>

                        {% else %}

                        <p class="md:text-xl text-[16px]">Tenant username: <span>{{tenantDetails.user}}</span></p>

                        {% endif %}
                        
                        <p class="md:text-xl text-[16px]">Room joined on: {{ tenantDetails.moveInDate|date:"F j, Y"}}</p>
                    </div>

                    <div class="md:ml-14 space-y-9 pt-3">
                        <p class="md:text-xl text-[16px]">Contact Number:
                            <span>{{tenantDetails.user.useradditionaldetail.contact_number}}</span></p>
                        <p class="md:text-xl text-[16px]">Email: <span>{{tenantDetails.user.email}}</span></p>
                    </div>
                </div>

            </div> <!-- Owner Info END -->
            {% endfor %}

            
            {% if request.user|has_group:"tenant" and isJoinedThisRoom %}
 
            <div class='p-7'>
                <button data-modal-target="default-modal-report" data-modal-toggle="default-modal-report"
                class=" rounded-lg bg-red-500 py-3 px-6 text-center align-middle font-sans text-xs font-bold uppercase text-white shadow-md shadow-red-500/20 transition-all hover:shadow-lg hover:shadow-red-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                type="button"
              >
                Report Issue or request maintenance
              </button>
            </div>
               
            {% endif %}
                

        <form action="" method="post">
        {% csrf_token %}
            <div id="default-modal-report" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative p-4 w-full max-w-2xl max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow ">
                        <!-- Modal header -->
                        <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t">
                            <h3 class="text-xl font-semibold text-gray-900">
                                Report an Issue or request for maintenance
                            </h3>
                            <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center " data-modal-hide="default-modal-report">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                        </div>
                        <!-- Modal body -->
                        <div class="p-4 md:p-5 space-y-4">
                            <div class="">
                                <div class="max-w-2xl mx-auto">
                                    <label for="RoomIssueFeedback" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400">Select Issue Type</label>
                                        <select id="RoomIssueFeedback" name="RoomIssueFeedback" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  ">
                                        <option value="Room Maintenance">Room Maintenance</option>
                                        <option value="Room Issue">Room Issue</option>
                                    </select>
                                </div>
                            </div>


                            <div class="col-span-2 mb-5">
                                <label for="RoomIssueFeedbackMessage" class="block mb-2 text-sm font-medium text-gray-900">Leave a message</label>
                                <textarea required name="RoomIssueFeedbackMessage" value="" id="RoomIssueFeedbackMessage" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Report an issue or request maintenance."></textarea>                    
                            </div>




                        </div>
                        <!-- Modal footer -->
                        <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                            <button name="RoomIssue" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">Send</button>
                            <button data-modal-hide="default-modal-report" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 ">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>

            {% else %}

             <!--SHOWING FEEDBACKS FOR THIS ROOM-->
            <div class="p-2  border border-3 shadow  mt-16 ml-4 pb-7">
                <!-- Heading -->
                <div class="ml-4 p-3">
                    <h1 class="md:text-2xl text-[16px] font-semibold pb-5 ">Feedbacks</h1>
                </div>

                {% if feedbacks %}
                
              
                    <div class="md:grid md:grid-cols-3 px-5 gap-4">
                        {% for feedback in feedbacks %}
                    
                        <div class="max-w-lg mx-auto border px-6 py-4 rounded-lg ">
                            <div class="flex items-center mb-6">
                                <img class="h-20 w-20" src="{{feedback.user.userprofilepicture.image.url}}" alt="Avatar" class="w-12 h-12 rounded-full mr-4">
                               <div class="pl-4">
                                    <div class="text-lg font-medium text-gray-800 py-1">{{feedback.user}}</div>
                                    <p class="text-sm font-bold">{{feedback.feedbackDate|date}}</p>
                                
                                </div>
                            </div>

                            
                            {% if feedback.rating %}
                                <div class="pb-2"><!-- Rating -->
                                    <div class="flex items-center">
                                      <svg class="flex-shrink-0 size-5 
                                      {% if feedback.rating == 1 or feedback.rating == 2 or feedback.rating == 3 or feedback.rating == 4 or feedback.rating == 5 %}
                                        text-yellow-400
                                        {% else %}    
                                        text-gray-300  
                                        {% endif %} " xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                      </svg>
                                      <svg class="flex-shrink-0 size-5 
                                      {% if feedback.rating == 2 or feedback.rating == 3 or feedback.rating == 4 or feedback.rating == 5 %}
                                         text-yellow-400 {% else %}  text-gray-300      
                                         {% endif %}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                      </svg>
                                      <svg class="flex-shrink-0 size-5 {% if feedback.rating == 3 or feedback.rating == 4 or feedback.rating == 5 %}
                                      text-yellow-400 {% else %}  text-gray-300      
                                      {% endif %}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                      </svg>
                                      <svg class="flex-shrink-0 size-5 {% if feedback.rating == 4 or feedback.rating == 5 %}
                                      text-yellow-400 {% else %}  text-gray-300      
                                      {% endif %} " xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                      </svg>
                                      <svg class="flex-shrink-0 size-5{% if feedback.rating == 5 %}
                                      text-yellow-400 {% else %}  text-gray-300      
                                      {% endif %} " xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                      </svg>
                                    </div>
                                    <!-- End Rating --></div>
                            {% endif %}

                            <p class="text-lg leading-relaxed mb-6">{{feedback.feedback}}</p>
                            
                        </div> 
                        {% endfor %}
                    </div>
               

                {% else %}

                <h1 class="pl-6">No Feedbacks till now.</h1>
                    
                {% endif %}
            </div> 
            {% endif %}

        </div> <!-- CONTENTS END-->
    </div> <!-- Main container Start -->
</div> <!-- Main END -->
<script src="{% static 'js/roomMoreDetails.js' %}" type="text/javascript"></script>
<script>
    function addRule() {
        var ruleInput = document.getElementById("ruleInput");
        var ruleValue = ruleInput.value.trim();
    
        if (ruleValue === "") {
            Swal.fire({
                title: "Rules cannot be empty!",
                icon: "warning"
              });
            return;
        }
    
        var rulesContainerWrapper = document.getElementById("rulesContainerWrapper");
        rulesContainerWrapper.style.display = "block";
    
        var rulesContainer = document.getElementById("rulesContainer");
        var ruleElement = document.createElement("div");
        ruleElement.textContent = ruleValue;
        rulesContainer.appendChild(ruleElement);
    
        ruleInput.value = ""; // Clear input field after adding rule
        updateHiddenRulesInput();
    }
    
    function updateHiddenRulesInput() {
        var rulesContainer = document.getElementById("rulesContainer");
        var rules = rulesContainer.querySelectorAll("div");
        var hiddenRulesInput = document.getElementById("hiddenRulesInput");
        var rulesText = [];
    
        rules.forEach(function (rule) {
            rulesText.push(rule.textContent);
        });
    
        hiddenRulesInput.value = rulesText.join(", ");
    }
    
    
    var ruleCounter = 1; // Counter for numbering rules
    
    function addRule() {
        var ruleInput = document.getElementById("ruleInput");
        var ruleValue = ruleInput.value.trim();
    
        if (ruleValue === "") {
            Swal.fire({
                title: "Rules cannot be empty!",
                icon: "warning"
              });
            return;
        }
    
        var rulesContainerWrapper = document.getElementById("rulesContainerWrapper");
        rulesContainerWrapper.style.display = "block";
    
        var rulesContainer = document.getElementById("rulesContainer");
        var ruleElement = document.createElement("div");
        ruleElement.textContent = ruleCounter + ". " + ruleValue; // Include numbering
        rulesContainer.appendChild(ruleElement);
    
        ruleInput.value = ""; // Clear input field after adding rule
        updateHiddenRulesInput();
    
        ruleCounter++; // Increment the rule counter
    }
    
    
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var saveRoomCheckbox = document.getElementById('save_room');

        saveRoomCheckbox.addEventListener('change', function() {
            var isChecked = saveRoomCheckbox.checked;

            // Send an AJAX request to save the room
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/save-room/', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onload = function() {
                if (xhr.status === 200) {
                    // Room saved successfully
                    console.log('Room saved successfully');
                } else {
                    console.error('Failed to save room');
                }
            };
            xhr.send(JSON.stringify({ 'is_saved': isChecked }));
        });
    });
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){
        var dtToday = new Date();
        var month = dtToday.getMonth() + 1;
        var day = dtToday.getDate();
        var year = dtToday.getFullYear();
        if(month < 10)
            month = '0' + month.toString();
        if(day < 10)
            day = '0' + day.toString();
        var maxDate = year + '-' + month + '-' + day;
        $('#inputdate').attr('min', maxDate);
    });
</script>

{% endblock %}